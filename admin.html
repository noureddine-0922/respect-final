<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© | Respect Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø®Ø§ØµØ© Ø¨Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© */
        body { background: #0d1117; color: white; overflow-x: hidden; }
        
        /* Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        #loginOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #0d1117; z-index: 9999; display: flex;
            flex-direction: column; justify-content: center; align-items: center;
        }
        .login-box {
            background: #161b22; padding: 40px; border-radius: 20px; text-align: center;
            border: 1px solid #30363d; box-shadow: 0 0 30px rgba(0,0,0,0.5);
        }
        .google-btn {
            background: white; color: black; border: none; padding: 10px 20px;
            border-radius: 5px; font-weight: bold; cursor: pointer; display: flex; align-items: center; gap: 10px;
            margin-top: 20px; transition: 0.3s;
        }
        .google-btn:hover { background: #ddd; }

        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .dashboard-container { display: flex; min-height: 100vh; display: none; /* Ù…Ø®ÙÙŠ Ø­ØªÙ‰ Ø§Ù„Ø¯Ø®ÙˆÙ„ */ }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar-admin {
            width: 250px; background: #161b22; padding: 20px; border-left: 1px solid #30363d;
            display: flex; flex-direction: column;
        }
        .user-profile {
            text-align: center; padding-bottom: 20px; border-bottom: 1px solid #30363d; margin-bottom: 20px;
        }
        .user-avatar { width: 60px; height: 60px; border-radius: 50%; border: 2px solid var(--neon-green); margin-bottom: 10px; }
        .role-badge { 
            padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: bold;
        }
        .role-owner { background: #da3633; color: white; }
        .role-admin { background: #1f6feb; color: white; }

        .nav-btn {
            background: none; border: none; color: #8b949e; padding: 15px; text-align: right;
            cursor: pointer; font-family: 'Cairo'; font-size: 1rem; border-radius: 8px; transition: 0.3s;
            display: flex; align-items: center; gap: 10px; width: 100%;
        }
        .nav-btn:hover, .nav-btn.active { background: #21262d; color: white; }
        .nav-btn.active { border-right: 3px solid var(--neon-green); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        .content-wrapper { flex: 1; padding: 30px; overflow-y: auto; }
        .tab-content { display: none; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }

        /* Ù‚Ø³Ù… Ø§Ù„ØµÙŠØ§Ù†Ø© */
        .maintenance-card {
            background: #161b22; padding: 30px; border-radius: 15px; border: 1px solid #30363d;
            text-align: center; max-width: 500px; margin: 0 auto;
        }
        .toggle-switch {
            position: relative; display: inline-block; width: 60px; height: 34px; margin: 20px 0;
        }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc; transition: .4s; border-radius: 34px;
        }
        .slider:before {
            position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px;
            background-color: white; transition: .4s; border-radius: 50%;
        }
        input:checked + .slider { background-color: var(--neon-green); }
        input:checked + .slider:before { transform: translateX(26px); }

        /* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª */
        .logs-table {
            width: 100%; border-collapse: collapse; background: #161b22; border-radius: 10px; overflow: hidden;
        }
        .logs-table th, .logs-table td {
            padding: 15px; text-align: right; border-bottom: 1px solid #30363d;
        }
        .logs-table th { background: #21262d; color: var(--neon-green); }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Ù†ÙØ³ ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„ÙÙˆØ±Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© */
        .admin-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 768px) {
            .dashboard-container { flex-direction: column; }
            .sidebar-admin { width: 100%; border-left: none; border-bottom: 1px solid #30363d; }
            .admin-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div id="loginOverlay">
        <div class="login-box">
            <img src="https://cdn.discordapp.com/attachments/1436149485167185940/1454355201539702905/logo.png" width="80" style="margin-bottom:20px;">
            <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø£Ø¯Ù…Ù†</h2>
            <p style="color:#888;">ÙŠØ¬Ø¨ Ø£Ù† ØªÙ…ØªÙ„Ùƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„</p>
            <button class="google-btn" onclick="loginWithGoogle()">
                <i class="fa-brands fa-google"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø¬ÙˆØ¬Ù„
            </button>
            <p id="loginError" style="color:#da3633; margin-top:10px; display:none;"></p>
        </div>
    </div>

    <div class="dashboard-container" id="dashboard">
        
        <aside class="sidebar-admin">
            <div class="user-profile">
                <img src="" id="userAvatar" class="user-avatar">
                <h3 id="userName">Ø§Ù„Ø§Ø³Ù…</h3>
                <span id="userRole" class="role-badge">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span>
            </div>

            <nav>
                <button class="nav-btn active" onclick="switchTab('streamers')">
                    <i class="fa-solid fa-users"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³ØªØ±ÙŠÙ…Ø±Ø²
                </button>
                <button class="nav-btn" onclick="switchTab('maintenance')" id="btnMaintenance">
                    <i class="fa-solid fa-screwdriver-wrench"></i> ÙˆØ¶Ø¹ Ø§Ù„ØµÙŠØ§Ù†Ø©
                </button>
                <button class="nav-btn" onclick="switchTab('logs')" id="btnLogs">
                    <i class="fa-solid fa-file-shield"></i> Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù†Ø´Ø§Ø· (Logs)
                </button>
                <button class="nav-btn" style="color:#da3633; margin-top:30px;" onclick="logout()">
                    <i class="fa-solid fa-right-from-bracket"></i> ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬
                </button>
            </nav>
        </aside>

        <main class="content-wrapper">
            
            <div id="tab-streamers" class="tab-content active">
                <h2 style="margin-bottom:20px;">ğŸ¥ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³ØªØ±ÙŠÙ…Ø±Ø²</h2>
                <div class="admin-grid">
                    <div class="admin-panel" style="background:#161b22; padding:20px; border-radius:15px; border:1px solid #30363d;">
                        <div class="form-group">
                            <label>ÙŠÙˆØ²Ø± ÙƒÙŠÙƒ</label>
                            <div style="display:flex; gap:5px;">
                                <input type="text" id="inpUsername" placeholder="xqc" oninput="updatePreview()" style="width:100%; padding:10px; background:#0d1117; color:white; border:1px solid #30363d; border-radius:5px;">
                                <button onclick="autoFetchData()" style="background:var(--neon-purple); border:none; color:white; border-radius:5px; width:60px;">Ø¬Ù„Ø¨</button>
                            </div>
                        </div>
                        <div class="form-group" style="margin-top:10px;">
                            <label>Ø§Ù„Ø§Ø³Ù…</label>
                            <input type="text" id="inpName" oninput="updatePreview()" style="width:100%; padding:10px; background:#0d1117; color:white; border:1px solid #30363d; border-radius:5px;">
                        </div>
                        <div class="form-group" style="margin-top:10px;">
                            <label>Ø§Ù„Ø´Ø®ØµÙŠØ© (IC)</label>
                            <input type="text" id="inpICName" oninput="updatePreview()" style="width:100%; padding:10px; background:#0d1117; color:white; border:1px solid #30363d; border-radius:5px;">
                        </div>
                        <div class="form-group" style="margin-top:10px;">
                            <label>Ø§Ù„ØµÙˆØ±Ø©</label>
                            <input type="text" id="inpImage" oninput="updatePreview()" style="width:100%; padding:10px; background:#0d1117; color:white; border:1px solid #30363d; border-radius:5px;">
                        </div>
                        <div class="form-group" style="margin-top:10px;">
                            <label>Ø§Ù„ÙØ¦Ø©</label>
                            <select id="inpCategory" onchange="updatePreview()" style="width:100%; padding:10px; background:#0d1117; color:white; border:1px solid #30363d; border-radius:5px;">
                                <option value="police">Ø§Ù„Ø´Ø±Ø·Ø©</option>
                                <option value="ems">Ø§Ù„Ø¥Ø³Ø¹Ø§Ù</option>
                                <option value="justice">Ø§Ù„Ø¹Ø¯Ù„</option>
                                <option value="s.ops">Ù‚ÙˆØ§Øª Ø®Ø§ØµØ©</option>
                                <option value="citizen">Ù…ÙˆØ§Ø·Ù†</option>
                                <option value="obeid">Ø¹Ø§Ø¦Ù„Ø© Ø¹Ø¨ÙŠØ¯</option>
                                <option value="plus">Ø¹ØµØ§Ø¨Ø© Ø§Ù„Ø¨Ù„Ø³</option>
                                <option value="brazil">Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠÙŠÙ†</option>
                                <option value="east">Ø¹ØµØ§Ø¨Ø© Ø§Ù„Ø´Ø±Ù‚</option>
                                <option value="west">Ø¹ØµØ§Ø¨Ø© Ø§Ù„ØºØ±Ø¨</option>
                                <option value="middle">Middle Gang</option>
                                <option value="nwa">N.W.A</option>
                                <option value="crypto">Crypto</option>
                                <option value="yakuza">Ø§Ù„ÙŠØ§ÙƒÙˆØ²Ø§</option>
                                <option value="oldschool">Old School</option>
                            </select>
                        </div>
                        <div style="margin-top:20px; display:flex; gap:10px;">
                            <button onclick="saveStreamer()" class="btn-save" style="flex:2; padding:10px; background:var(--neon-green); border:none; border-radius:5px; font-weight:bold; cursor:pointer;">Ø­ÙØ¸</button>
                            <button onclick="clearForm()" style="flex:1; padding:10px; background:#30363d; color:white; border:none; border-radius:5px; cursor:pointer;">Ø¬Ø¯ÙŠØ¯</button>
                        </div>
                        
                        <div style="margin-top:20px; padding-top:20px; border-top:1px dashed #30363d; text-align:center;">
                            <div class="card" id="previewCard" style="margin:0 auto; width:100%; max-width:200px; pointer-events:none;">
                                <div class="flip-wrapper">
                                    <div class="card-inner">
                                        <div class="card-front">
                                            <div class="status-badge offline">Ù…Ø¹Ø§ÙŠÙ†Ø©</div>
                                            <img src="https://via.placeholder.com/150" id="prevImg" class="pfp">
                                            <div class="info"><h3 id="prevName">Ø§Ù„Ø§Ø³Ù…</h3><p id="prevIC">Ø§Ù„Ø´Ø®ØµÙŠØ©</p></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="streamerList" style="background:#161b22; padding:20px; border-radius:15px; border:1px solid #30363d; max-height:80vh; overflow-y:auto;">
                        Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...
                    </div>
                </div>
            </div>

            <div id="tab-maintenance" class="tab-content">
                <div class="maintenance-card">
                    <i class="fa-solid fa-triangle-exclamation" style="font-size:3rem; color:#ffcc00;"></i>
                    <h2>Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙŠØ§Ù†Ø©</h2>
                    <p style="color:#888;">Ø¹Ù†Ø¯ ØªÙØ¹ÙŠÙ„ Ù‡Ø°Ø§ Ø§Ù„ÙˆØ¶Ø¹ØŒ Ù„Ù† ÙŠØ¸Ù‡Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„Ù„Ø²ÙˆØ§Ø± ÙˆØ³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ù‡Ù… Ù„ØµÙØ­Ø© Ø§Ù„ØµÙŠØ§Ù†Ø©.</p>
                    
                    <label class="toggle-switch">
                        <input type="checkbox" id="maintenanceSwitch" onchange="toggleMaintenance()">
                        <span class="slider"></span>
                    </label>
                    <p id="maintStatus" style="font-weight:bold;">Ø§Ù„ÙˆØ¶Ø¹: Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...</p>
                </div>
            </div>

            <div id="tab-logs" class="tab-content">
                <h2 style="margin-bottom:20px;">ğŸ›¡ï¸ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø£Ø¯Ù…Ù† (Logs)</h2>
                <div style="overflow-x:auto;">
                    <table class="logs-table">
                        <thead>
                            <tr>
                                <th>Ø§Ù„ÙˆÙ‚Øª</th>
                                <th>Ø§Ù„Ø£Ø¯Ù…Ù†</th>
                                <th>Ø§Ù„Ø±ØªØ¨Ø©</th>
                                <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
                                <th>Ø§Ù„ØªÙØ§ØµÙŠÙ„</th>
                            </tr>
                        </thead>
                        <tbody id="logsBody">
                            <tr><td colspan="5" style="text-align:center;">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </main>
    </div>

    <div id="toast-container" style="position:fixed; bottom:20px; left:50%; transform:translateX(-50%); display:flex; flex-direction:column; gap:10px; z-index:2000;"></div>

    <script type="module" src="admin.js"></script>
</body>
</html>

